{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAwCA,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACDC,KAAKC,SAAW,GAEtCH,EAAI,uBAAqBH,QAAiBC,OAExCG,EAAE,sBAAoBJ,QAAeC,MAAU,G,CA5CrDM,UAAY,CACVC,KAAMC,SAASC,cAAc,UAG/BH,UAAUC,KAAKG,iBAAiB,UAEhC,SAAuBC,GACrBA,EAAIC,iBACJ,MAAMZ,EAAQM,UAAUC,KAAKM,SAASb,MAAMc,MACtCC,EAAOT,UAAUC,KAAKM,SAASE,KAAKD,MACpCE,EAASV,UAAUC,KAAKM,SAASG,OAAOF,MAExCG,EAAW,GACjBA,EAASC,KAAKpB,EAAc,EAAGE,IAC3BgB,GAAU,GACZG,EAAAvB,GAASwB,OAAOC,QAAQ,qCACxBJ,EAAW,IAEXA,EAASC,KAAKpB,EAAc,EAAGE,IAEjC,IAAK,IAAIsB,EAAI,EAAGA,EAAIN,EAAQM,GAAK,EAC/BL,EAASC,KAAKpB,EAAcwB,EAAI,EAAGA,EAAIP,EAAOf,IAGhDC,QAAQsB,WAAWN,GAAUO,MAAMC,IACjCA,EAAMC,SAAQ,CAACC,EAAMC,KACnBC,YAAW,KACU,cAAhBF,EAAKG,OACNX,EAAAvB,GAASwB,OAAOW,QAAQJ,EAAKb,OAE7BK,EAAAvB,GAASwB,OAAOC,QAAQM,EAAKK,OAAO,GAErCJ,EAAIb,EAAOf,EAAM,GACpB,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nselectors = {\n  form: document.querySelector('.form'),\n}\n\nselectors.form.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  const delay = selectors.form.elements.delay.value;\n  const step = selectors.form.elements.step.value;\n  const amount = selectors.form.elements.amount.value;\n  \n  const promises = [];\n  promises.push(createPromise(1, delay))\n  if (amount <= 0) {\n    Notiflix.Notify.failure(\"Please set the amount more than 0\");\n    promises = [];\n  } else {\n    promises.push(createPromise(1, delay))\n  }\n  for (let i = 1; i < amount; i += 1) {\n    promises.push(createPromise(i + 1, i * step + delay))\n  }\n\n  Promise.allSettled(promises).then((items) => {\n    items.forEach((item, i) => {\n      setTimeout(() => {\n        if(item.status === \"fulfilled\"){\n          Notiflix.Notify.success(item.value);\n        } else{\n          Notiflix.Notify.failure(item.reason);\n        }\n      }, i * step + delay); \n    });\n  });\n}\n\n \nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    res(`✅ Fulfilled promise ${position} in ${delay}ms`)\n  } else {\n    rej(`❌ Rejected promise ${position} in ${delay}ms`)\n  }\n  })\n};\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Promise","res","rej","Math","random","selectors","form","document","querySelector","addEventListener","evt","preventDefault","elements","value","step","amount","promises","push","$parcel$interopDefault","Notify","failure","i1","allSettled","then","items","forEach","item","i","setTimeout","status","success","reason"],"version":3,"file":"03-promises.5c7f7377.js.map"}